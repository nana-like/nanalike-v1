$(document).ready(function () { $.ajax({ url: "https://nykim.net/tapi/rss", type: "GET", dataType: "xml" }).done(function (e) { $(e).find("channel item").each(function () { var e = $(this).find("title").text(), t = $(this).find("link").text(), i = ($(this).find("description"), $(this).find("pubDate").text()), n = new Date(i), a = n.getFullYear() + "." + (n.getMonth() + 1) + "." + n.getDate(), l = (new DOMParser).parseFromString($(this).find("description").text(), "text/html"), d = (l.getElementsByTagName("img"), document.createElement("li")); d.classList.add("blog-list__item"); var s = document.createElement("a"); s.classList.add("blog-list__link"), s.href = t, s.setAttribute("target", "_blank"); var r = document.createElement("div"); r.style.backgroundImage = `url('${l.getElementsByTagName("img")[0].src}')`, r.classList.add("blog-list__img"), s.appendChild(r); var c = document.createElement("div"); c.classList.add("blog-list__info"); var o = document.createElement("strong"); o.innerHTML = e, o.classList.add("blog-list__title"), c.appendChild(o); var m = document.createElement("p"); m.innerHTML = a, m.classList.add("blog-list__date"), c.appendChild(m), s.appendChild(c), d.appendChild(s), document.querySelector(".blog-list").appendChild(d) }) }).fail(function () { console.error("Oops, 데이터 불러오기에 실패했습니다. 티스토리에 뭔가 문제가 있었을지도 몰라요.") }) });